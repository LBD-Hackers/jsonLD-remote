{"version":3,"sources":["../../src/index.ts"],"names":["predefinedContexts","QueryService","fetch","context","url","queryEngine","ComunicaEngine","options","paths","PathFactory","data","create","subject","NamedNode"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;AAEA,IAAMA,kBAAkB,GAAG;AACvB,cAAY;AACV,UAAM,wCADI;AAEV,UAAM,gCAFI;AAGV,YAAQ,4BAHE;AAIV,YAAQ,0BAJE;AAKV,UAAM,2BALI;AAMV,YAAQ,kCANE;AAOV,YAAQ,4BAPE;AAQV,eAAW,2BARD;AASV,WAAO,2BATG;AAUV,WAAO,4BAVG;AAWV,YAAQ,4BAXE;AAYV,UAAM,mCAZI;AAaV,aAAS,qCAbC;AAcV,YAAQ,wCAdE;AAeV,cAAU,+BAfA;AAgBV,WAAO,2BAhBG;AAiBV,UAAM,8BAjBI;AAkBV,UAAM,0BAlBI;AAmBV,YAAQ,8BAnBE;AAoBV,UAAM,mBApBI;AAqBV,WAAO,2BArBG;AAsBV,WAAO,gCAtBG;AAuBV,YAAQ,4BAvBE;AAwBV,UAAM,mCAxBI;AAyBV,WAAO,6CAzBG;AA0BV,YAAQ,4BA1BE;AA2BV,YAAQ,uCA3BE;AA4BV,WAAO,4BA5BG;AA6BV,WAAO,6BA7BG;AA8BV,UAAM,6BA9BI;AA+BV,cAAU,oBA/BA;AAgCV,UAAM,kDAhCI;AAiCV,YAAQ,0BAjCE;AAkCV,YAAQ,sCAlCE;AAmCV,cAAU,oCAnCA;AAoCV,YAAQ,4BApCE;AAqCV,WAAO,2BArCG;AAsCV,YAAQ,8BAtCE;AAuCV,SAAK,kCAvCK;AAwCV,aAAS,kCAxCC;AAyCV,YAAQ,0BAzCE;AA0CV,WAAO,mCA1CG;AA2CV,YAAQ,qCA3CE;AA4CV,WAAO,qCA5CG;AA6CV,WAAO,sCA7CG;AA8CV,WAAO,mCA9CG;AA+CV,mBAAe,gDA/CL;AAgDV,eAAW,4CAhDD;AAiDV,YAAQ;AAjDE;AADW,CAA3B;;IAqDqBC,Y;AAInB,wBAAYC,KAAZ,EAAwB;AAAA;;AACtB,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKC,OAAL,GAAeH,kBAAf;AACD;;;;WAED,gBAAcI,GAAd,EAA2B;AACzB,UAAMC,WAAW,GAAG,IAAIC,oBAAJ,CAAmBF,GAAnB,EAAwB;AAACG,QAAAA,OAAO,EAAE;AAACL,UAAAA,KAAK,EAAE,KAAKA;AAAb;AAAV,OAAxB,CAApB;AACA,UAAMM,KAAK,GAAG,IAAIC,mBAAJ,CAAgB;AAACN,QAAAA,OAAO,EAAE,KAAKA,OAAf;AAAwBE,QAAAA,WAAW,EAAXA;AAAxB,OAAhB,CAAd;AACA,UAAMK,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAa;AACxBC,QAAAA,OAAO,EAAE,IAAIC,YAAJ,CAAcT,GAAd;AADe,OAAb,CAAb;AAGA,aAAOM,IAAP;AACD","sourcesContent":["import ComunicaEngine from \"@ldflex/comunica\"\nimport {PathFactory} from 'ldflex'\nimport { NamedNode } from \"n3\";\n\nconst predefinedContexts = {\n    \"@context\": {\n      \"as\": \"https://www.w3.org/ns/activitystreams#\",\n      \"cc\": \"http://creativecommons.org/ns#\",\n      \"csvw\": \"http://www.w3.org/ns/csvw#\",\n      \"ctag\": \"http://commontag.org/ns#\",\n      \"dc\": \"http://purl.org/dc/terms/\",\n      \"dc11\": \"http://purl.org/dc/elements/1.1/\",\n      \"dcat\": \"http://www.w3.org/ns/dcat#\",\n      \"dcterms\": \"http://purl.org/dc/terms/\",\n      \"dqv\": \"http://www.w3.org/ns/dqv#\",\n      \"duv\": \"https://www.w3.org/ns/duv#\",\n      \"foaf\": \"http://xmlns.com/foaf/0.1/\",\n      \"gr\": \"http://purl.org/goodrelations/v1#\",\n      \"grddl\": \"http://www.w3.org/2003/g/data-view#\",\n      \"ical\": \"http://www.w3.org/2002/12/cal/icaltzd#\",\n      \"jsonld\": \"http://www.w3.org/ns/json-ld#\",\n      \"ldp\": \"http://www.w3.org/ns/ldp#\",\n      \"ma\": \"http://www.w3.org/ns/ma-ont#\",\n      \"oa\": \"http://www.w3.org/ns/oa#\",\n      \"odrl\": \"http://www.w3.org/ns/odrl/2/\",\n      \"og\": \"http://ogp.me/ns#\",\n      \"org\": \"http://www.w3.org/ns/org#\",\n      \"owl\": \"http://www.w3.org/2002/07/owl#\",\n      \"prov\": \"http://www.w3.org/ns/prov#\",\n      \"qb\": \"http://purl.org/linked-data/cube#\",\n      \"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n      \"rdfa\": \"http://www.w3.org/ns/rdfa#\",\n      \"rdfs\": \"http://www.w3.org/2000/01/rdf-schema#\",\n      \"rev\": \"http://purl.org/stuff/rev#\",\n      \"rif\": \"http://www.w3.org/2007/rif#\",\n      \"rr\": \"http://www.w3.org/ns/r2rml#\",\n      \"schema\": \"http://schema.org/\",\n      \"sd\": \"http://www.w3.org/ns/sparql-service-description#\",\n      \"sioc\": \"http://rdfs.org/sioc/ns#\",\n      \"skos\": \"http://www.w3.org/2004/02/skos/core#\",\n      \"skosxl\": \"http://www.w3.org/2008/05/skos-xl#\",\n      \"sosa\": \"http://www.w3.org/ns/sosa/\",\n      \"ssn\": \"http://www.w3.org/ns/ssn/\",\n      \"time\": \"http://www.w3.org/2006/time#\",\n      \"v\": \"http://rdf.data-vocabulary.org/#\",\n      \"vcard\": \"http://www.w3.org/2006/vcard/ns#\",\n      \"void\": \"http://rdfs.org/ns/void#\",\n      \"wdr\": \"http://www.w3.org/2007/05/powder#\",\n      \"wdrs\": \"http://www.w3.org/2007/05/powder-s#\",\n      \"xhv\": \"http://www.w3.org/1999/xhtml/vocab#\",\n      \"xml\": \"http://www.w3.org/XML/1998/namespace\",\n      \"xsd\": \"http://www.w3.org/2001/XMLSchema#\",\n      \"describedby\": \"http://www.w3.org/2007/05/powder-s#describedby\",\n      \"license\": \"http://www.w3.org/1999/xhtml/vocab#license\",\n      \"role\": \"http://www.w3.org/1999/xhtml/vocab#role\"\n    }\n  }\nexport default class QueryService {\n  public fetch;\n  public context: object\n\n  constructor(fetch: any) {\n    this.fetch = fetch;\n    this.context = predefinedContexts;\n  }\n\n  public asJson(url: string) {\n    const queryEngine = new ComunicaEngine(url, {options: {fetch: this.fetch}})\n    const paths = new PathFactory({context: this.context, queryEngine})\n    const data = paths.create({\n      subject: new NamedNode(url)\n    })\n    return data\n  }\n}"],"file":"index.js"}